(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,78583,e=>{"use strict";let t=(0,e.i(75254).default)("file-text",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);e.s(["FileText",()=>t],78583)},38763,e=>{"use strict";var t=e.i(71645);function a(e,s=1e4){let[r,i]=(0,t.useState)(null),l=(0,t.useRef)(e);l.current=e;let c=(0,t.useCallback)(async()=>{await l.current(),i(new Date)},[]);return(0,t.useEffect)(()=>{c();let e=null,t=()=>{e||(e=setInterval(c,s))},a=()=>{e&&(clearInterval(e),e=null)},r=()=>{"visible"===document.visibilityState?(c(),t()):a()};return"visible"===document.visibilityState&&t(),document.addEventListener("visibilitychange",r),()=>{a(),document.removeEventListener("visibilitychange",r)}},[c,s]),{lastUpdated:r}}e.s(["usePolling",()=>a])},15288,e=>{"use strict";var t=e.i(43476),a=e.i(75157);function s({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card",className:(0,a.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...s})}function r({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card-header",className:(0,a.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...s})}function i({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card-title",className:(0,a.cn)("leading-none font-semibold",e),...s})}function l({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card-content",className:(0,a.cn)("px-6",e),...s})}e.s(["Card",()=>s,"CardContent",()=>l,"CardHeader",()=>r,"CardTitle",()=>i])},31278,e=>{"use strict";let t=(0,e.i(75254).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>t],31278)},95468,e=>{"use strict";let t=(0,e.i(75254).default)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);e.s(["CheckCircle2",()=>t],95468)},73884,e=>{"use strict";let t=(0,e.i(75254).default)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);e.s(["XCircle",()=>t],73884)},99486,e=>{"use strict";var t=e.i(43476),a=e.i(71645),s=e.i(7471),r=e.i(38763),i=e.i(15288),l=e.i(87486),c=e.i(68054),d=e.i(55436),n=e.i(63488),m=e.i(78583),o=e.i(31278),x=e.i(95468),u=e.i(73884),p=e.i(3116),h=e.i(75157),g=e.i(1851),f=e.i(94913);let j=["all","pending","processing","completed","failed"],N={research:(0,t.jsx)(d.Search,{className:"w-4 h-4"}),draft_email:(0,t.jsx)(n.Mail,{className:"w-4 h-4"}),generate_report:(0,t.jsx)(m.FileText,{className:"w-4 h-4"}),custom:(0,t.jsx)(c.Terminal,{className:"w-4 h-4"})},y={pending:(0,t.jsx)(p.Clock,{className:"w-3.5 h-3.5 text-yellow-400"}),processing:(0,t.jsx)(o.Loader2,{className:"w-3.5 h-3.5 text-blue-400 animate-spin"}),completed:(0,t.jsx)(x.CheckCircle2,{className:"w-3.5 h-3.5 text-green-400"}),failed:(0,t.jsx)(u.XCircle,{className:"w-3.5 h-3.5 text-red-400"})},v={pending:"bg-yellow-500/10 text-yellow-400 border-yellow-500/20",processing:"bg-blue-500/10 text-blue-400 border-blue-500/20",completed:"bg-green-500/10 text-green-400 border-green-500/20",failed:"bg-red-500/10 text-red-400 border-red-500/20"};function b(){let[e,d]=(0,a.useState)([]),[n,m]=(0,a.useState)(!0),[x,u]=(0,a.useState)("all"),p=(0,a.useCallback)(async()=>{let e=s.supabase.from("mc_agent_commands").select("*").order("created_at",{ascending:!1}).limit(100);"all"!==x&&(e=e.eq("status",x));let{data:t}=await e;d(t||[]),m(!1)},[x]);return(0,r.usePolling)(p),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold tracking-tight",children:"Commands"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"Agent command history and status tracking"})]}),(0,t.jsx)("div",{className:"flex items-center gap-2",children:j.map(e=>(0,t.jsx)(l.Badge,{variant:x===e?"default":"outline",className:(0,h.cn)("cursor-pointer transition-colors capitalize",x===e&&"bg-primary text-primary-foreground"),onClick:()=>u(e),children:e},e))}),n?(0,t.jsxs)("div",{className:"flex items-center justify-center h-64 text-muted-foreground",children:[(0,t.jsx)(o.Loader2,{className:"w-5 h-5 animate-spin mr-2"}),"Loading commands..."]}):0===e.length?(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center h-64 text-muted-foreground",children:[(0,t.jsx)(c.Terminal,{className:"w-8 h-8 mb-3 opacity-50"}),(0,t.jsx)("p",{className:"text-sm",children:"No commands found"}),(0,t.jsx)("p",{className:"text-xs mt-1",children:"Use the Quick Command bar or action buttons to send commands to your agent."})]}):(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"hidden md:grid grid-cols-[auto_1fr_auto_auto_auto_1fr] gap-4 px-4 py-2 text-[10px] uppercase tracking-wider text-muted-foreground font-semibold",children:[(0,t.jsx)("span",{className:"w-5"}),(0,t.jsx)("span",{children:"Type"}),(0,t.jsx)("span",{children:"Target"}),(0,t.jsx)("span",{children:"Status"}),(0,t.jsx)("span",{children:"Created"}),(0,t.jsx)("span",{children:"Result"})]}),e.map(e=>(0,t.jsx)(i.Card,{className:"border-border bg-card",children:(0,t.jsxs)(i.CardContent,{className:"py-3 px-4",children:[(0,t.jsxs)("div",{className:"hidden md:grid grid-cols-[auto_1fr_auto_auto_auto_1fr] gap-4 items-center",children:[(0,t.jsx)("div",{className:"text-muted-foreground",children:N[e.command_type]||(0,t.jsx)(c.Terminal,{className:"w-4 h-4"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium capitalize",children:e.command_type.replace("_"," ")}),"custom"===e.command_type&&e.parameters?.text&&(0,t.jsx)("p",{className:"text-xs text-muted-foreground truncate max-w-[200px]",children:e.parameters.text})]}),(0,t.jsx)("div",{children:e.target_type?(0,t.jsx)(l.Badge,{variant:"outline",className:"text-[10px] capitalize",children:e.target_type}):(0,t.jsx)("span",{className:"text-xs text-muted-foreground",children:"—"})}),(0,t.jsx)("div",{children:(0,t.jsxs)(l.Badge,{variant:"outline",className:(0,h.cn)("text-[10px] capitalize gap-1",v[e.status]),children:[y[e.status],e.status]})}),(0,t.jsx)("div",{className:"text-xs text-muted-foreground whitespace-nowrap",children:(0,g.format)(new Date(e.created_at),"MMM d, HH:mm")}),(0,t.jsx)("div",{className:"min-w-0",children:e.result?(0,t.jsx)("p",{className:"text-xs text-muted-foreground truncate",children:e.result}):e.completed_at?(0,t.jsxs)("span",{className:"text-[10px] text-muted-foreground",children:["Completed ",(0,f.formatDistanceToNow)(new Date(e.completed_at),{addSuffix:!0})]}):(0,t.jsx)("span",{className:"text-xs text-muted-foreground",children:"—"})})]}),(0,t.jsxs)("div",{className:"md:hidden space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"text-muted-foreground",children:N[e.command_type]||(0,t.jsx)(c.Terminal,{className:"w-4 h-4"})}),(0,t.jsx)("span",{className:"text-sm font-medium capitalize",children:e.command_type.replace("_"," ")})]}),(0,t.jsxs)(l.Badge,{variant:"outline",className:(0,h.cn)("text-[10px] capitalize gap-1",v[e.status]),children:[y[e.status],e.status]})]}),"custom"===e.command_type&&e.parameters?.text&&(0,t.jsx)("p",{className:"text-xs text-muted-foreground truncate",children:e.parameters.text}),(0,t.jsxs)("div",{className:"flex items-center gap-3 text-[10px] text-muted-foreground",children:[e.target_type&&(0,t.jsx)(l.Badge,{variant:"outline",className:"text-[10px] capitalize",children:e.target_type}),(0,t.jsx)("span",{children:(0,g.format)(new Date(e.created_at),"MMM d, HH:mm")})]}),e.result&&(0,t.jsx)("p",{className:"text-xs text-muted-foreground line-clamp-2",children:e.result})]})]})},e.id))]})]})}e.s(["default",()=>b])}]);